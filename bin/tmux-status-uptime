#!/usr/bin/env bash

uptime_value=$(uptime)

get_match() {
  re=$1
  arr_pos=${2:-0}
  value=$([[ $uptime_value =~ $re ]] && echo "${BASH_REMATCH[${arr_pos}]}")

  echo "$value"
}

re_days="[0-9]+ days|day?"
days=$(get_match "$re_days")

declare hours minutes
re_time="([0-9]?[0-9]):([0-9]{2}),"
re_mins="([0-9]+ mins|min)"
hours=$(get_match "$re_time" 1)
minutes=$(get_match "$re_time" 2)

# INFO: '-z' checks IF EMPTY
# INFO: '-n' checks IF NOT EMPTY
if [[ -z $hours ]]
then
  # hours is empty
  hours=""
  minutes=" $(get_match "$re_mins" 1)"
else
  hours=" $hours hrs"
  minutes=" $minutes mins"
fi

echo "uptime: ${days}${hours}${minutes}"
